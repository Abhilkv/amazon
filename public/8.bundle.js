(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[8],{

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js!./src/js/containers/checkout/styles.scss":
/*!***************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--8-1!./node_modules/sass-loader/dist/cjs.js!./src/js/containers/checkout/styles.scss ***!
  \***************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".productContainer-1aJGu{display:flex;align-items:center;justify-content:center;flex-direction:column;padding:20px;width:100%;overflow:hidden !important;position:relative}.productContainer-1aJGu .priceData-2_XXr{position:absolute;width:300px;top:36px;padding:13px 24px;border-radius:2px 2px 0 0;z-index:200;right:45px;display:flex;flex-direction:column;box-shadow:0 1px 1px 0 rgba(0,0,0,0.2);background-color:#fff}.productContainer-1aJGu .priceData-2_XXr .heading-28mI-{color:#878787;font-size:16px;font-weight:600;border-bottom:1px solid #f0f0f0;padding:13px 0px}.productContainer-1aJGu .priceData-2_XXr .total-2xuTB{border-top:1px dashed #e0e0e0;font-weight:500;font-size:18px;display:flex;justify-content:space-between;padding:13px 0px;font-weight:700}.productContainer-1aJGu .priceData-2_XXr .footer-1B2TA{border-radius:2px;color:#388e3c;font-weight:500;border-top:1px dashed #e0e0e0;padding:13px 0px;font-size:16px}.productContainer-1aJGu .priceData-2_XXr .fields-3Nh7f{color:#212121;line-height:1.4;font-size:16px;font-weight:400;display:flex;justify-content:space-between;padding:13px 0px}.productContainer-1aJGu .priceData-2_XXr .green-2cdj5{color:#388e3c}.productContainer-1aJGu .boxContainer-34LCt{display:flex;justify-content:space-between;flex-wrap:wrap;width:100%;padding:0 30px}.productContainer-1aJGu .boxContainer-34LCt .searchBar-t-XGz{display:flex;align-items:center;justify-content:center;text-align:center;height:40px;padding:0 30px;border:none;background-color:rgba(255,255,255,0.957);border-radius:5px;box-shadow:0 0 5px 2px silver;color:rgba(30,30,30,0.47451);outline:none;box-shadow:0 0 5px 2px silver;width:30%;white-space:nowrap;overflow:hidden !important;text-overflow:ellipsis;text-align:left}.productContainer-1aJGu .boxContainer-34LCt .category-3Ruxq{display:flex;align-items:center;justify-content:center;text-align:center;height:40px;padding:0 30px;border:none;background-color:rgba(255,255,255,0.957);border-radius:5px;box-shadow:0 0 5px 2px silver;color:rgba(30,30,30,0.47451);outline:none;width:25%;cursor:pointer;text-align:left}.productContainer-1aJGu .boxContainer-34LCt .optionText-1o8ZV{background-color:rgba(255,255,255,0.957);border:none;color:rgba(30,30,30,0.47451)}.productContainer-1aJGu .cartAccordian-bbx-8{font-weight:600;font-size:16px;display:flex;align-items:center}.productContainer-1aJGu .cartAccordian-bbx-8 .boxCount-1XN70{font-size:12px;color:#2874f0;background-color:#f0f0f0;border-radius:2px;padding:4px 7px;vertical-align:baseline;margin-right:17px}.productContainer-1aJGu .cartAccordian-bbx-8 .activeCountBlock-3qjzL{font-size:12px;color:#2874f0;background-color:#ffffff;border-radius:2px;padding:3px 7px;vertical-align:baseline;margin-right:17px}.productContainer-1aJGu .productBlock-KPNvJ{display:flex;align-items:center;justify-content:center;flex-direction:column;width:70%;flex-wrap:wrap}.productContainer-1aJGu .buttonBlock-Djptf{border-top:1px solid #f0f0f0;background:#fff;padding:16px 22px;box-shadow:0 -2px 10px 0 rgba(0,0,0,0.1);box-sizing:border-box;margin:0;display:flex;align-items:center;justify-content:center;justify-content:flex-end}.productContainer-1aJGu .buttonBlock-Djptf .address-1wsCU{background:#fb641b;box-shadow:0 1px 2px 0 rgba(0,0,0,0.2);border:none;color:#fff;padding:14px 15px;border-radius:2px;font-size:16px;display:flex;align-items:center;justify-content:center;font-weight:bold;min-width:200px;margin-left:20px;height:50px}.productContainer-1aJGu .buttonBlock-Djptf .continue-1eMco{background:#fb641b;color:#fff}.productContainer-1aJGu .buttonBlock-Djptf .disabled-1X6sR{background:#a59d94fb;box-shadow:0 1px 2px 0 rgba(0,0,0,0.2);border:none;color:#fff;padding:14px 15px;border-radius:2px;font-size:16px;display:flex;align-items:center;justify-content:center;font-weight:bold;min-width:200px;margin-left:20px;height:50px}.activeBlock-2EcvJ{color:#fff !important;background-color:#2874f0 !important}.here-1eZQE{color:#2874f0}.here-1eZQE:hover{text-decoration:underline;cursor:pointer}.inactive-eoEVU{color:#878787 !important;background:white}.box-cyF5L{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.box-cyF5L .inputField-20NVL{margin:10px;width:47%}.contentWrap-q0al8{justify-content:flex-start}.contentWrap-q0al8 .inputField-20NVL{margin:10px;width:100%}.divider-3gMm6{margin:15px 0px;border:none;height:0px;width:100%}@media only screen and (min-width: 601px){.Accordion-2ERTt{min-width:700px}}@media only screen and (max-width: 600px){.productContainer-1aJGu{width:90%}.productContainer-1aJGu .priceData-2_XXr{position:static !important}.priceData-2_XXr{margin-bottom:20px}.productBlock-KPNvJ{width:100% !important}.imageBlock-weoYS{flex-direction:column !important}.Accordion-2ERTt{width:95% !important}.check-6p7zK{flex-direction:column !important;justify-content:center !important;align-items:center !important;width:100%}.productContainer-1aJGu .buttonBlock-Djptf{justify-content:center !important}.box-cyF5L .inputField-20NVL{width:100% !important}}\n", ""]);
// Exports
exports.locals = {
	"productContainer": "productContainer-1aJGu",
	"priceData": "priceData-2_XXr",
	"heading": "heading-28mI-",
	"total": "total-2xuTB",
	"footer": "footer-1B2TA",
	"fields": "fields-3Nh7f",
	"green": "green-2cdj5",
	"boxContainer": "boxContainer-34LCt",
	"searchBar": "searchBar-t-XGz",
	"category": "category-3Ruxq",
	"optionText": "optionText-1o8ZV",
	"cartAccordian": "cartAccordian-bbx-8",
	"boxCount": "boxCount-1XN70",
	"activeCountBlock": "activeCountBlock-3qjzL",
	"productBlock": "productBlock-KPNvJ",
	"buttonBlock": "buttonBlock-Djptf",
	"address": "address-1wsCU",
	"continue": "continue-1eMco",
	"disabled": "disabled-1X6sR",
	"activeBlock": "activeBlock-2EcvJ",
	"here": "here-1eZQE",
	"inactive": "inactive-eoEVU",
	"box": "box-cyF5L",
	"inputField": "inputField-20NVL",
	"contentWrap": "contentWrap-q0al8",
	"divider": "divider-3gMm6",
	"Accordion": "Accordion-2ERTt",
	"imageBlock": "imageBlock-weoYS",
	"check": "check-6p7zK"
};

/***/ }),

/***/ "./src/js/containers/checkout/checkout.jsx":
/*!*************************************************!*\
  !*** ./src/js/containers/checkout/checkout.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/slicedToArray.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router-dom/esm/react-router-dom.js");
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var app_components__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! app/components */ "./src/js/components/index.js");
/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./styles.scss */ "./src/js/containers/checkout/styles.scss");
/* harmony import */ var _styles_scss__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_styles_scss__WEBPACK_IMPORTED_MODULE_8__);



function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

/* eslint-disable jsx-a11y/label-has-associated-control */

/* eslint-disable react/button-has-type */

/* eslint-disable react/prop-types */








var Checkout = function Checkout(props) {
  var cart = props.cart,
      favourite = props.favourite,
      addToCart = props.addToCart,
      removeFromFav = props.removeFromFav,
      placeOrder = props.placeOrder,
      orderId = props.orderId,
      clearOrder = props.clearOrder;
  var details = Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["useSelector"])(function (state) {
    return state.details;
  });
  var history = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["useHistory"])();

  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])('cart'),
      _useState2 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState, 2),
      showBlocks = _useState2[0],
      setShowBlocks = _useState2[1];

  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({
    name: '',
    phone: '',
    address: '',
    city: '',
    state: '',
    landMark: '',
    email: ''
  }),
      _useState4 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState3, 2),
      addressData = _useState4[0],
      setAddress = _useState4[1];

  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])({
    name: false,
    phone: false,
    address: false,
    city: false,
    state: false,
    email: false
  }),
      _useState6 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState5, 2),
      dirtyFields = _useState6[0],
      setDirtyFields = _useState6[1];

  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_2__["useState"])(false),
      _useState8 = _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default()(_useState7, 2),
      showPopup = _useState8[0],
      setPopUp = _useState8[1];

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    if (Object.keys(cart).length === 0) {
      history.push('/home');
    }
  }, [cart]);

  var openNextBlock = function openNextBlock(field) {
    setShowBlocks(field);
    document.getElementById(field).scrollIntoView({
      behavior: 'smooth'
    });
  };

  var setBlocks = function setBlocks(block) {
    if (showBlocks === block) {
      setShowBlocks('');
    } else {
      setShowBlocks(block);
    }
  };

  var sum = function sum() {
    return (totalSum() - discount() - 55 + 29).toFixed(2);
  };

  var totalSum = function totalSum() {
    var prices = Object.keys(cart).reduce(function (acc, keys) {
      return acc + Number(cart[keys].data.price) * Number(cart[keys].count);
    }, 0);
    return prices;
  };

  var discount = function discount() {
    var prices = Object.keys(cart).reduce(function (acc, keys) {
      return acc + Number(cart[keys].data.price) * Number(cart[keys].count) * Number(cart[keys].data.discount / 100);
    }, 0);
    return prices.toFixed(2);
  };

  var updateData = function updateData(event, field) {
    var value = event.target.value;
    var shouldUpdate = true;

    if (field === 'phone') {
      shouldUpdate = /^\d{10}$/.test(value);
    } else if (field === 'email') {
      shouldUpdate = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(value);
    }

    if (shouldUpdate) {
      setAddress(function (prev) {
        return _objectSpread({}, prev, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, value));
      });
    }
  };

  var updateDirty = function updateDirty(field) {
    setDirtyFields(function (prev) {
      return _objectSpread({}, prev, _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({}, field, true));
    });
  };

  var handlePopUp = function handlePopUp() {
    placeOrder(JSON.stringify({
      items: cart,
      userData: addressData,
      payment: 'Cash on delivery',
      amount: sum()
    }));
  };

  Object(react__WEBPACK_IMPORTED_MODULE_2__["useEffect"])(function () {
    if (orderId !== '') {
      setPopUp(function (prev) {
        return !prev;
      });
    }
  }, [orderId]);

  var redirectToHome = function redirectToHome() {
    props.clearCart();
    clearOrder();
    history.push('/home');
  };

  var orderDetails = function orderDetails() {
    history.push("/orders?id=".concat(orderId));
  };

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.productContainer
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Dialog"], {
    open: showPopup,
    onClose: handlePopUp // PaperComponent={PaperComponent}
    ,
    "aria-labelledby": "draggable-dialog-title"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["DialogTitle"], _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()({
    style: {
      cursor: 'move',
      'font-weight': 500,
      color: '#2874f0'
    },
    id: "draggable-dialog-title",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.cartAccordian
  }, "className", _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.boxTitle), "Greetings..."), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["DialogContent"], null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["DialogContentText"], null, "Thanks for purchasing with us. For tracking your order, use the order-id send to your Email", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br", null), "For any help feel free to contact us at (1800 1154 2365)", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("br", null), "Track your order", ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    onClick: orderDetails,
    role: "presentation",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.here
  }, "here"))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["DialogActions"], null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Button"], {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a["continue"],
    onClick: redirectToHome
  }, "Continue")))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.priceData
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.heading
  }, "PRICE DETAILS"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.fields
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    style: {
      'font-weight': '700'
    }
  }, "Price (", Object.keys(cart).length, ' ', "item", Object.keys(cart).length > 1 ? 's' : '', ")"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    style: {
      'font-weight': '700'
    }
  }, "\u20B9", totalSum())), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.fields
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "Discount"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.green
  }, "-\u20B9", discount())), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.fields
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "Buy more & save more"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.green
  }, "-\u20B955")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.fields
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "Delivery Charges"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.green
  }, "FREE")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.fields
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "Secured Packing Fee"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "\u20B929")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.total
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "Total Amount"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", null, "\u20B9", sum(), ' ')), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.footer
  }, "You will save \u20B9", (discount() - 55 + 29).toFixed(2), ' ', "on this order")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Accordion"], {
    defaultExpanded: true,
    expanded: showBlocks === 'cart',
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.Accordion
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionSummary"], {
    expandIcon: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      src: "../../../../assets/down.svg",
      alt: "arrow"
    }),
    "aria-controls": "panel1a-content",
    id: "cart",
    onClick: function onClick() {
      setBlocks('cart');
    },
    className: "".concat(showBlocks === 'cart' ? _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.activeBlock : _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inactive)
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.cartAccordian
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "".concat(_styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.boxCount, " ").concat(showBlocks === 'cart' && _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.activeCountBlock)
  }, "1"), "ORDER SUMMARY")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionDetails"], null, Object.keys(cart).length > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.productBlock
  }, Object.keys(cart).map(function (keys) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(app_components__WEBPACK_IMPORTED_MODULE_7__["CheckoutCard"], {
      openCart: function openCart() {
        return openNextBlock('cart');
      },
      removeFromFav: removeFromFav,
      addToCart: addToCart,
      favourite: false,
      data: cart[keys].data,
      id: keys,
      qty: cart[keys].count,
      changeQty: props.changeQty,
      remove: props.removeItem,
      save: props.addToFavourite
    });
  }))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.buttonBlock
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.address,
    onClick: function onClick() {
      return openNextBlock('address');
    }
  }, "ADDRESS"))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.divider
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Accordion"], {
    expanded: showBlocks === 'address',
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.Accordion
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionSummary"], {
    expandIcon: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      src: "../../../../assets/down.svg",
      alt: "arrow"
    }),
    "aria-controls": "panel1a-content",
    className: "".concat(showBlocks === 'address' ? _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.activeBlock : _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inactive),
    onClick: function onClick() {
      setBlocks('address');
    },
    id: "address"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.cartAccordian
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "".concat(_styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.boxCount, " ").concat(showBlocks === 'cart' && _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.activeCountBlock)
  }, "2"), "DELIVERY ADDRESS")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionDetails"], null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    style: {
      width: '100%'
    }
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.box
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.name && addressData.name === '',
    onBlur: function onBlur() {
      return updateDirty('name');
    },
    onChange: function onChange(e) {
      return updateData(e, 'name');
    },
    id: "name",
    label: "Name",
    variant: "outlined",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.phone && addressData.phone === '',
    onBlur: function onBlur() {
      return updateDirty('phone');
    },
    onChange: function onChange(e) {
      return updateData(e, 'phone');
    },
    id: "number",
    label: "Number",
    variant: "outlined",
    type: "tel",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    className: "".concat(_styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.box, " ").concat(_styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.contentWrap)
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.address && addressData.address === '',
    onBlur: function onBlur() {
      return updateDirty('address');
    },
    onChange: function onChange(e) {
      return updateData(e, 'address');
    },
    id: "address",
    label: "Address",
    variant: "outlined",
    multiline: true,
    minRows: 5,
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.box
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.city && addressData.city === '',
    onBlur: function onBlur() {
      return updateDirty('city');
    },
    onChange: function onChange(e) {
      return updateData(e, 'city');
    },
    id: "city",
    label: "City/District/Town",
    variant: "outlined",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.state && addressData.state === '',
    onBlur: function onBlur() {
      return updateDirty('state');
    },
    onChange: function onChange(e) {
      return updateData(e, 'state');
    },
    id: "state",
    label: "State",
    variant: "outlined",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Box"], {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.box
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    id: "landMark",
    label: "Landmark",
    variant: "outlined",
    onBlur: function onBlur() {
      return updateDirty('landMark');
    },
    onChange: function onChange(e) {
      return updateData(e, 'landMark');
    },
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["TextField"], {
    error: dirtyFields.email && addressData.email === '',
    onBlur: function onBlur() {
      return updateDirty('email');
    },
    onChange: function onChange(e) {
      return updateData(e, 'email');
    },
    id: "email",
    label: "Email",
    variant: "outlined",
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inputField
  })))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.buttonBlock
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    disabled: !(dirtyFields.state || dirtyFields.city || dirtyFields.name || dirtyFields.phone || dirtyFields.address) || addressData.state === '' || addressData.city === '' || addressData.name === '' || addressData.phone === '' || addressData.address === '' || addressData.email === '',
    className: !(dirtyFields.state || dirtyFields.city || dirtyFields.name || dirtyFields.phone || dirtyFields.address) || addressData.state === '' || addressData.city === '' || addressData.name === '' || addressData.phone === '' || addressData.address === '' || addressData.email === '' ? _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.disabled : _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.address,
    onClick: handlePopUp
  }, "Place Order"))), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.divider
  }), Object.keys(favourite).length > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["Accordion"], {
    defaultExpanded: true,
    expanded: showBlocks === 'fav',
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.Accordion
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionSummary"], {
    expandIcon: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
      src: "../../../../assets/down.svg",
      alt: "arrow"
    }),
    "aria-controls": "panel1a-content",
    id: "panel1a-header",
    onClick: function onClick() {
      setBlocks('fav');
    },
    className: "".concat(showBlocks === 'fav' ? _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.activeBlock : _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.inactive)
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.cartAccordian
  }, "WISH LIST")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_4__["AccordionDetails"], null, Object.keys(favourite).length > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: _styles_scss__WEBPACK_IMPORTED_MODULE_8___default.a.productBlock
  }, Object.keys(favourite).map(function (keys) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(app_components__WEBPACK_IMPORTED_MODULE_7__["CheckoutCard"], {
      openCart: function openCart() {
        return openNextBlock('cart');
      },
      removeFromFav: removeFromFav,
      addToCart: addToCart,
      favourite: true,
      data: favourite[keys].data,
      id: keys,
      qty: favourite[keys].count,
      changeQty: props.changeQty,
      remove: props.removeItem,
      save: props.addToFavourite
    });
  })))));
};

Checkout.propTypes = {
  cart: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape().isRequired,
  favourite: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape().isRequired
};
Checkout.defaultProps = {};
/* harmony default export */ __webpack_exports__["default"] = (Checkout);

/***/ }),

/***/ "./src/js/containers/checkout/index.js":
/*!*********************************************!*\
  !*** ./src/js/containers/checkout/index.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../actions */ "./src/js/actions/index.js");
/* harmony import */ var _store_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./store/api */ "./src/js/containers/checkout/store/api.js");
/* harmony import */ var _checkout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./checkout */ "./src/js/containers/checkout/checkout.jsx");



 // import submitMessage from './saga';

var mapStateToProps = function mapStateToProps(_ref) {
  var details = _ref.details,
      checkout = _ref.checkout;
  return {
    cart: details.cart,
    favourite: details.favourite,
    orderId: checkout.orderId
  };
};

var mapDispatchToProps = function mapDispatchToProps(dispatch) {
  return {
    placeOrder: _store_api__WEBPACK_IMPORTED_MODULE_2__["default"],
    clearOrder: function clearOrder() {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["CHECKOUTPAGE_CLEAR_ORDER_DATA"]
      });
    },
    addToFavourite: function addToFavourite(item) {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_ADD_TO_FAVOURITE"],
        item: item
      });
    },
    changeQty: function changeQty(id, qty) {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_CHANGE_ITEM_QTY"],
        id: id,
        qty: qty
      });
    },
    removeItem: function removeItem(id) {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_REMOVE_ITEM"],
        id: id
      });
    },
    removeFromFav: function removeFromFav(id) {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_REMOVE_ITEM_FAVOURITE"],
        id: id
      });
    },
    addToCart: function addToCart(item) {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_ADD_TO_CART"],
        item: item
      });
    },
    clearCart: function clearCart() {
      dispatch({
        type: _actions__WEBPACK_IMPORTED_MODULE_1__["VIEW_PAGE_CLEAR_CART"]
      });
    }
  };
};

/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_0__["connect"])(mapStateToProps, mapDispatchToProps)(_checkout__WEBPACK_IMPORTED_MODULE_3__["default"]));

/***/ }),

/***/ "./src/js/containers/checkout/store/api.js":
/*!*************************************************!*\
  !*** ./src/js/containers/checkout/store/api.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return placeOrder; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _store_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../store/api */ "./src/js/store/api.js");
/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../actions */ "./src/js/actions/index.js");




function placeOrder(_x) {
  return _placeOrder.apply(this, arguments);
}

function _placeOrder() {
  _placeOrder = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(data) {
    var url, apiArgs;
    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            url = '/orders';
            apiArgs = {
              API_CALL: {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json'
                }
              },
              data: data,
              url: url,
              TYPES: {
                requestType: _actions__WEBPACK_IMPORTED_MODULE_3__["CHECKOUTPAGE_ORDER_DATA_SUBMIT_REQUEST"],
                successType: _actions__WEBPACK_IMPORTED_MODULE_3__["CHECKOUTPAGE_ORDER_DATA_SUBMIT_SUCCESS"],
                failureType: _actions__WEBPACK_IMPORTED_MODULE_3__["CHECKOUTPAGE_ORDER_DATA_SUBMIT_FAIL"]
              },
              isAuthRequired: false
            };
            Object(_store_api__WEBPACK_IMPORTED_MODULE_2__["default"])(apiArgs);

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  }));
  return _placeOrder.apply(this, arguments);
}

/***/ }),

/***/ "./src/js/containers/checkout/styles.scss":
/*!************************************************!*\
  !*** ./src/js/containers/checkout/styles.scss ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var content = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/sass-loader/dist/cjs.js!./styles.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js!./src/js/containers/checkout/styles.scss");

if (typeof content === 'string') {
  content = [[module.i, content, '']];
}

var options = {}

options.insert = "head";
options.singleton = false;

var update = __webpack_require__(/*! ../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js")(content, options);

if (content.locals) {
  module.exports = content.locals;
}

if (true) {
  if (!content.locals) {
    module.hot.accept(
      /*! !../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/sass-loader/dist/cjs.js!./styles.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js!./src/js/containers/checkout/styles.scss",
      function () {
        var newContent = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js??ref--8-1!../../../../node_modules/sass-loader/dist/cjs.js!./styles.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js!./src/js/containers/checkout/styles.scss");

        if (typeof newContent === 'string') {
          newContent = [[module.i, newContent, '']];
        }
        
        update(newContent);
      }
    )
  }

  module.hot.dispose(function() { 
    update();
  });
}

/***/ }),

/***/ "./src/js/env.js":
/*!***********************!*\
  !*** ./src/js/env.js ***!
  \***********************/
/*! exports provided: token, email */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "token", function() { return token; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "email", function() { return email; });
var token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImFiaGlsa25pQGdtYWlsLmNvbSIsImdpdGh1YiI6Imh0dHBzOi8vZ2l0aHViLmNvbS9BYmhpbGt2IiwiaWF0IjoxNjY1ODkyMDQyLCJleHAiOjE2NjYzMjQwNDJ9.7ZuXZUOd56wFzvZgWqcRHkadFhlRYTam7aaD1s6iOnU';
var email = 'abhilkni@gmail.com';

/***/ }),

/***/ "./src/js/pages/checkout.jsx":
/*!***********************************!*\
  !*** ./src/js/pages/checkout.jsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _containers_checkout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../containers/checkout */ "./src/js/containers/checkout/index.js");
/* harmony import */ var _layout_mainLayout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout/mainLayout */ "./src/js/layout/mainLayout.jsx");




var Checkout = function Checkout(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layout_mainLayout__WEBPACK_IMPORTED_MODULE_2__["default"], {
    hideFilters: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_containers_checkout__WEBPACK_IMPORTED_MODULE_1__["default"], props));
};

/* harmony default export */ __webpack_exports__["default"] = (Checkout);

/***/ }),

/***/ "./src/js/store/api.js":
/*!*****************************!*\
  !*** ./src/js/store/api.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return apiCall; });
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react_router_redux__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-router-redux */ "./node_modules/react-router-redux/lib/index.js");
/* harmony import */ var react_router_redux__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_router_redux__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var app_registry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! app-registry */ "./node_modules/app-registry/src/index.js");
/* harmony import */ var app_registry__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(app_registry__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../store */ "./src/js/store.js");
/* harmony import */ var _env__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../env */ "./src/js/env.js");




function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);

  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }

  return keys;
}

function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    if (i % 2) {
      ownKeys(source, true).forEach(function (key) {
        _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(source).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }

  return target;
}







var isAuthTokenValid = function isAuthTokenValid(authToken) {
  return authToken !== null && authToken !== '';
};

function apiCall(_x) {
  return _apiCall.apply(this, arguments);
}

function _apiCall() {
  _apiCall = _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2___default()(
  /*#__PURE__*/
  _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(payload) {
    var API_CALL, TYPES, url, data, _payload$isAuthRequir, isAuthRequired, apiEndpoint, API_URL, apiParams, apiResponse, errMessage;

    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            API_CALL = payload.API_CALL, TYPES = payload.TYPES, url = payload.url, data = payload.data, _payload$isAuthRequir = payload.isAuthRequired, isAuthRequired = _payload$isAuthRequir === void 0 ? true : _payload$isAuthRequir; // const apiEndpoint = 'https://upayments-studycase-api.herokuapp.com/api';
            // const apiEndpoint = 'http://localhost:8081';

            apiEndpoint = 'https://amazon-clone-abhil.herokuapp.com';
            API_URL = "".concat(apiEndpoint).concat(url); // Re-routing to login if not authorized

            if (isAuthRequired && !isAuthTokenValid(_env__WEBPACK_IMPORTED_MODULE_7__["token"])) {
              alert('Token missing');
            } // Setting API parameters


            apiParams = _objectSpread({}, API_CALL, {
              data: data,
              url: API_URL
            }, isAuthRequired && {
              headers: {
                Authorization: "Bearer ".concat(_env__WEBPACK_IMPORTED_MODULE_7__["token"])
              }
            });
            _context.prev = 5; //  Setting initial state

            if (TYPES.requestType) {
              _store__WEBPACK_IMPORTED_MODULE_6__["store"].dispatch({
                type: TYPES.requestType
              });
            } // Make API call


            _context.next = 9;
            return axios__WEBPACK_IMPORTED_MODULE_3___default()(apiParams);

          case 9:
            apiResponse = _context.sent;

            if (!apiResponse.data) {
              _context.next = 13;
              break;
            } // API call success


            _store__WEBPACK_IMPORTED_MODULE_6__["store"].dispatch({
              type: TYPES.successType,
              data: apiResponse.data
            });
            return _context.abrupt("return", apiResponse.data);

          case 13:
            _context.next = 21;
            break;

          case 15:
            _context.prev = 15;
            _context.t0 = _context["catch"](5); // API call failure

            errMessage = _context.t0.message;

            if (_context.t0.response) {
              errMessage = _context.t0.response.data.message || _context.t0.response.data.error.message;
            } // Logging the error


            app_registry__WEBPACK_IMPORTED_MODULE_5___default.a.get('logger').info("The API ".concat(API_URL, " returned this error:"), JSON.stringify(errMessage));
            _store__WEBPACK_IMPORTED_MODULE_6__["store"].dispatch({
              type: TYPES.failureType
            });

          case 21:
            return _context.abrupt("return", null);

          case 22:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, null, [[5, 15]]);
  }));
  return _apiCall.apply(this, arguments);
}

/***/ })

}]);
//# sourceMappingURL=8.bundle.js.map